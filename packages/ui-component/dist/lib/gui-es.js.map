{"version":3,"file":"gui-es.js","sources":["../../components/input/index.vue","../../components/date-picker/meta.js","../../components/date-picker/comp/month-panel.vue","../../components/date-picker/index.vue"],"sourcesContent":["<template>\n  <section\n    v-if=\"type !== 'textarea'\"\n    :class=\"classes\"\n    class=\"gui-input-wrap\"\n    @mouseenter=\"onMouseEnter\"\n    @mouseleave=\"onMouseLeave\"\n  >\n    <div v-if=\"$slots.prepend\" class=\"gui-input-group_prepend\">\n      <slot name=\"prepend\"></slot>\n    </div>\n\n    <span class=\"gui-input_prefix\">\n      <slot name=\"prefix\"></slot>\n      <Icon\n        v-if=\"prefixIcon\"\n      >\n        <component :is=\"prefixIcon\" />\n      </Icon>\n    </span>\n\n    <input\n      :value=\"modelValue\"\n      :type=\"showPassword ? (passwordVisible ? 'text' : 'password') : type\"\n      :disabled=\"disabled\"\n      v-bind=\"$attrs\"\n      @input=\"handleInput\"\n    >\n    <!-- clearable -->\n    <RiCloseCircleLine\n      v-show=\"clearable && isShowIcon\"\n      @click=\"handleClear\"\n      class=\"gui-input-clear\"\n    />\n\n    <!-- 限制字符长度 -->\n    <div v-if=\"isWordLimitVisible\">\n      {{ wordCount }}/{{ $attrs.maxlength || 0 }}\n    </div>\n\n    <!-- 显示密码 -->\n    <div v-if=\"showPassword\" @click=\"passwordVisible = !passwordVisible\">\n      <RiEyeLine v-show=\"passwordVisible\" width=\"20\" />\n      <RiEyeOffLine v-show=\"!passwordVisible\" width=\"20\" />\n    </div>\n\n    <span class=\"gui-input_suffix\">\n      <slot name=\"suffix\"></slot>\n      <Icon\n        v-if=\"suffixIcon\"\n      >\n        <component :is=\"suffixIcon\" />\n      </Icon>\n    </span>\n\n    <div v-if=\"$slots.append\" class=\"gui-input-group_append\">\n      <slot name=\"append\"></slot>\n    </div>\n  </section>\n  <section v-else>\n    <textarea :value=\"modelValue\" name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\n  </section>\n</template>\n\n<script lang=\"ts\" setup=\"props, context\">\nimport { RiCloseCircleLine, RiEyeLine, RiEyeOffLine } from 'vue-remix-icons'\nimport { computed, reactive, toRefs, watch, useAttrs } from 'vue';\nimport Icon from '../icon/index.vue';\n\ntype TargetElement = HTMLInputElement | HTMLTextAreaElement\n\nconst props = defineProps({\n  modelValue: {\n    type: String,\n    default: '',\n  },\n\n  size: {\n    type: String,\n    default: 'normal',\n  },\n\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n\n  clearable: {\n    type: Boolean,\n    default: false,\n  },\n\n  type: {\n    type: String,\n    default: 'text',\n  },\n\n  showPassword: {\n    type: Boolean,\n    default: false,\n  },\n\n  showWordLimit: {\n    type: Boolean,\n    default: false,\n  },\n\n  suffixIcon: {\n    type: Object,\n    default: null,\n  },\n\n  prefixIcon: {\n    type: Object,\n    default: null,\n  },\n});\nconsole.log(props);\nconst attrs = useAttrs();\n\n\n// 样式\nconst { size } = props;\nconst classes = computed(() => {\n  return {\n    [`gui-size-${size}`]: size,\n    [`gui-icon-${size}`]: size,\n  }\n});\n\nconst isWordLimitVisible = computed(() => (\n  props.showWordLimit && !!attrs.maxlength && !props.showPassword\n))\n\nconst state = reactive({\n  isShowIcon: false,\n  passwordVisible: true,\n  wordCount: 0,\n});\n\nwatch(\n  () => props.modelValue,\n  (val) => {\n    state.isShowIcon = !!val;\n    state.wordCount = val.length;\n  }\n)\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst handleInput = (e: Event) => {\n  const { value } = e.target as TargetElement;\n  emit('update:modelValue', value)\n};\n\nconst onMouseEnter = () => {\n  if (props.modelValue) {\n    state.isShowIcon = true;\n  }\n}\n\nconst onMouseLeave = () => {\n  state.isShowIcon = false;\n}\n\nconst handleClear = () => {\n  emit('update:modelValue', '')\n}\n\nconst { isShowIcon, passwordVisible, wordCount } = toRefs(state)\n\n</script>\n\n<style lang=\"scss\">\n@import \"./index.scss\";\n</style>\n","export const WEEKS = [\n  { label: \"Sun\", value: 0 },\n  { label: \"Mon\", value: 1 },\n  { label: \"Tue\", value: 2 },\n  { label: \"Wed\", value: 3 },\n  { label: \"Thu\", value: 4 },\n  { label: \"Fri\", value: 5 },\n  { label: \"Sat\", value: 6 }\n];\n\nexport const MONTHS = [\n  { label: \"Jan\", value: 0 },\n  { label: \"Feb\", value: 1 },\n  { label: \"Mar\", value: 2 },\n  { label: \"Apr\", value: 3 },\n  { label: \"May\", value: 4 },\n  { label: \"Jun\", value: 5 },\n  { label: \"Jul\", value: 6 },\n  { label: \"Aug\", value: 7 },\n  { label: \"Sept\", value: 8 },\n  { label: \"Oct\", value: 9 },\n  { label: \"Nov\", value: 10 },\n  { label: \"Dec\", value: 11 }\n];\n","<template>\n  <table>\n    <tr v-for=\"(row, index) in rows\" :key=\"index\">\n      <td v-for=\"cell in row\" :key=\"cell.label\">\n        <span @click=\"handleSelect(cell.value)\">{{ cell.label }}</span>\n      </td>\n    </tr>\n  </table>\n</template>\n\n<script lang=\"ts\" setup=\"props, context\">\nimport { computed, useAttrs, reactive, defineEmits } from 'vue';\nimport { MONTHS } from '../meta';\n\ntype TargetElement = HTMLInputElement | HTMLTextAreaElement\n\n// const props = defineProps({\n//   modelValue: {\n//     type: String,\n//     default: '',\n//   },\n\n//   type: {\n//     type: String,\n//     default: 'dates',\n//   },\n// });\nconst attrs = useAttrs();\nconst emit = defineEmits(['select'])\n\nconst state = reactive({\n\n})\n\nconst rows = computed(() => {\n  const tableRows = [[], [], []];\n  for(let i = 0; i < 3; i+=1) {\n    const row = tableRows[i];\n    for(let j = 0; j < 4; j+=1) {\n      row.push(MONTHS[i * 4 + j])\n    }\n  }\n\n  return tableRows;\n});\n\nconst handleSelect = (val) => {\n  console.log(val);\n\n  emit('select', val);\n}\n\n// const { panelVisible } = toRefs(state)\n\n</script>\n\n<style lang=\"scss\">\n\n</style>\n","<template>\n  <Input v-bind=\"$attrs\" @click=\"openPanel\" />\n  <transition>\n    <div v-show=\"panelVisible\">\n      <div class=\"date-top-bar\">\n        <span></span>\n      </div>\n      <div v-if=\"type === 'year'\">\n      </div>\n\n      <div v-if=\"type === 'month'\">\n        <MonthPanel @select=\"handleSelect\" />\n      </div>\n\n      <div v-else>\n\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\" setup=\"props, context\">\nimport { computed, reactive, toRefs, watch, useAttrs, defineEmits } from 'vue';\nimport Input from '../input/index.vue';\nimport MonthPanel from './comp/month-panel.vue';\n\ntype TargetElement = HTMLInputElement | HTMLTextAreaElement\n\nconst props = defineProps({\n  modelValue: {\n    type: String,\n    default: '',\n  },\n\n  type: {\n    type: String,\n    default: 'dates',\n  },\n});\nconst attrs = useAttrs();\nconst emit = defineEmits(['update:modelValue']);\n\nconst state = reactive({\n  panelVisible: false,\n})\n\nconst openPanel = () => {\n  state.panelVisible = true;\n};\n\nconst handleSelect = (val) => {\n  console.log(val);\n\n  emit('update:modelValue', val)\n}\n\nconst { panelVisible } = toRefs(state)\n\n</script>\n\n<style lang=\"scss\">\n\n</style>\n"],"names":["log","props","attrs","useAttrs","size","classes","computed","isWordLimitVisible","showWordLimit","maxlength","showPassword","state","reactive","isShowIcon","passwordVisible","wordCount","modelValue","val","length","handleInput","e","value","target","onMouseEnter","onMouseLeave","handleClear","toRefs","MONTHS","label","rows","tableRows","i","row","j","push","panelVisible","openPanel","handleSelect"],"mappings":"qpCAqHQA,IAAIC,SACNC,EAAQC,KAIRC,KAAEA,GAASH,EACXI,EAAUC,GAAS,KAChB,EACJ,YAAYF,KAASA,GACrB,YAAYA,KAASA,MAIpBG,EAAqBD,GAAS,IAClCL,EAAMO,iBAAmBN,EAAMO,YAAcR,EAAMS,eAG/CC,EAAQC,EAAS,CACrBC,YAAY,EACZC,iBAAiB,EACjBC,UAAW,OAIX,IAAMd,EAAMe,aACXC,MACOJ,aAAeI,IACfF,UAAYE,EAAIC,gBAMpBC,EAAeC,UACbC,MAAEA,GAAUD,EAAEE,SACf,oBAAqBD,IAGtBE,EAAe,KACftB,EAAMe,eACFH,YAAa,IAIjBW,EAAe,OACbX,YAAa,GAGfY,EAAc,OACb,oBAAqB,MAGtBZ,WAAEA,kBAAYC,YAAiBC,GAAcW,EAAOf,wqCC/J7CgB,EAAS,CACpB,CAAEC,MAAO,MAAOP,MAAO,GACvB,CAAEO,MAAO,MAAOP,MAAO,GACvB,CAAEO,MAAO,MAAOP,MAAO,GACvB,CAAEO,MAAO,MAAOP,MAAO,GACvB,CAAEO,MAAO,MAAOP,MAAO,GACvB,CAAEO,MAAO,MAAOP,MAAO,GACvB,CAAEO,MAAO,MAAOP,MAAO,GACvB,CAAEO,MAAO,MAAOP,MAAO,GACvB,CAAEO,MAAO,OAAQP,MAAO,GACxB,CAAEO,MAAO,MAAOP,MAAO,GACvB,CAAEO,MAAO,MAAOP,MAAO,IACvB,CAAEO,MAAO,MAAOP,MAAO,+DCKXlB,IAGAS,EAAS,UAIjBiB,EAAOvB,GAAS,WACdwB,EAAY,CAAC,GAAI,GAAI,YACnBC,EAAI,EAAGA,EAAI,EAAGA,GAAG,EAAG,OACpBC,EAAMF,EAAUC,WACdE,EAAI,EAAGA,EAAI,EAAGA,GAAG,IACnBC,KAAKP,EAAW,EAAJI,EAAQE,WAIrBH,2KAGab,kBACZjB,IAAIiB,UAEP,SAAUA,GAHI,IAACA,kUCPRd,UAGRQ,EAAQC,EAAS,CACrBuB,cAAc,IAGVC,EAAY,OACVD,cAAe,GAGjBE,EAAgBpB,YACZjB,IAAIiB,KAEP,oBAAqBA,KAGtBkB,aAAEA,GAAiBT,EAAOf"}